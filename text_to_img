import openai
import os
import io
import warnings
from PIL import Image
from dotenv import load_dotenv

load_dotenv()

class TextToImg:

    def to_image(self, prompt):
        # Set up our warning to print to the console if the adult content classifier is tripped.
        # If adult content classifier is not tripped, save generated images.
        try:
            response = openai.Image.create(
                prompt="a white siamese cat",
                n=1,
                size="1024x1024"
            )
            print(response['data'][0]['url'])
            return response
        except openai.error.OpenAIError as e:
            print(e.http_status)
            print(e.error)
            return
